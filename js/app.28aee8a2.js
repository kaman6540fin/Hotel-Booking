(function(e){function t(t){for(var o,r,s=t[0],c=t[1],u=t[2],m=0,l=[];m<s.length;m++)r=s[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);h&&h(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0d5e13b3":"d470fd35","chunk-0e1bb7e0":"1067eb5d","chunk-5d8b91e4":"7f733821"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0d5e13b3":1,"chunk-0e1bb7e0":1,"chunk-5d8b91e4":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-0d5e13b3":"dbc07537","chunk-0e1bb7e0":"4aeb8737","chunk-5d8b91e4":"06666f37"}[e]+".css",a=c.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],m=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(m===o||m===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],m=u.getAttribute("data-href");if(m===o||m===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],h.parentNode.removeChild(h),n(i)},h.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=i);var u,m=document.createElement("script");m.charset="utf-8",m.timeout=120,c.nc&&m.setAttribute("nonce",c.nc),m.src=s(e);var l=new Error;u=function(t){m.onerror=m.onload=null,clearTimeout(h);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}a[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:m})}),12e4);m.onerror=m.onload=u,document.head.appendChild(m)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/Hotel-Booking/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],m=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var h=m;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("27fb")},"156c":function(e,t,n){e.exports=n.p+"img/logo_white.2540fc08.svg"},"1f0b":function(e,t,n){"use strict";n("a99a")},2577:function(e,t,n){e.exports=n.p+"img/instagram-brands.cc5e92b0.svg"},"27fb":function(e,t,n){},3441:function(e,t,n){e.exports=n.p+"img/facebook-square-brands.7df7570f.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("router-view")],1)},a=[],i={name:"App",components:{}},s=i,c=(n("034f"),n("2877")),u=Object(c["a"])(s,r,a,!1,null,null,null),m=u.exports,l=n("8c4f"),h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"home"},[o("div",{staticClass:"home-background"},[o("transition",{attrs:{name:"backgroundResolve",mode:"out-in"}},[o("img",{key:e.imgSrc(),attrs:{src:e.imgSrc()}})])],1),o("div",{staticClass:"logo-box"},[o("img",{attrs:{src:n("156c")},on:{click:function(t){return e.changeImegeTimer()}}})]),o("div",{staticClass:"menu",on:{click:function(t){return e.showFn()}}},[this.isShow?o("img",{staticClass:"cancel",attrs:{src:n("ef59")}}):e._e(),this.isShow?e._e():o("svg",{attrs:{viewBox:"0 0 100 80"}},[o("rect",{attrs:{width:"100",height:"5"}}),o("rect",{attrs:{y:"30",width:"100",height:"5"}}),o("rect",{attrs:{y:"60",width:"100",height:"5"}})])]),o("div",{staticClass:"rooms-block",class:{hide:!this.isShow}},[e.rooms?o("ul",e._l(e.rooms,(function(t,n){return o("li",{key:n,staticClass:"room-btn",class:{active:e.activeBtn(n)},on:{click:function(n){return n.preventDefault(),e.onRoomClick(t.id)},mouseenter:function(o){return e.onEnterRoom(n,t.name)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0):e._e()]),e.rooms?o("div",{staticClass:"room-num"},[o("transition",{attrs:{name:"backgroundResolve",mode:"out-in"}},[o("p",{key:this.menuKey,staticClass:"num"},[e._v(e._s(this.menuKey))])]),o("transition",{attrs:{name:"backgroundResolve",mode:"out-in"}},[o("div",{key:this.roomName,staticClass:"room-intro"},[e._v("\n          "+e._s(this.roomName)+"\n        ")])])],1):e._e(),e._m(0)])])},d=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hotel-info"},[o("div",{staticClass:"social-network"},[o("div",{staticClass:"fb"},[o("img",{attrs:{src:n("3441")}})]),o("div",{staticClass:"ig"},[o("img",{attrs:{src:n("2577")}})])]),o("div",{staticClass:"info-content"},[o("div",{staticClass:"phone"},[o("img",{attrs:{src:n("b2e9")}}),o("p",[e._v("02-12345678")])]),o("div",{staticClass:"email"},[o("img",{attrs:{src:n("a4f2")}}),o("p",[e._v("kaman6540fin@gmail.com.tw")])]),o("div",{staticClass:"address"},[o("img",{attrs:{src:n("b9c6")}}),o("p",[e._v("台北市信義區信義路000號")])])])])}],f=(n("7f7f"),n("ac6a"),n("c0d6")),p={name:"home",data:function(){return{isShow:!1,currentImg:0,index:0,timer:null,roomImageUrl:"",roomName:"Single Room",menuKey:"01",loading:!1}},created:function(){f["a"].dispatch("getRoomsInfo")},mounted:function(){this.startTimer()},computed:{rooms:function(){return f["a"].state.rooms},urlArray:function(){var e=[];return this.rooms.forEach((function(t){e.push(t.imageUrl)})),e},nameArray:function(){var e=[];return this.rooms.forEach((function(t){e.push(t.name)})),e}},methods:{showFn:function(){this.isShow=!this.isShow},activeBtn:function(e){return this.currentImg===e},imgSrc:function(){this.index>this.urlArray.length-1&&(this.index=0),this.currentImg=this.index,this.roomImageUrl||(this.roomImageUrl=this.urlArray[0]);var e=this.index+1;return this.menuKey=e<10?"0"+e:e,this.roomName=this.nameArray[this.index],this.roomImageUrl=this.urlArray[this.index],this.roomImageUrl},update:function(){this.index++,this.imgSrc()},stopTimer:function(){window.clearInterval(this.timer),this.timer=null},startTimer:function(){var e=this;this.timer||(this.timer=window.setInterval((function(){e.update()}),3e3))},onRoomClick:function(e){this.$router.push({name:"room",params:{id:e}})},onEnterRoom:function(e,t){var n=e+1;this.stopTimer(),this.index=e,this.imgSrc(),this.menuKey=n<10?"0"+n:n,this.roomName=t,this.startTimer()}}},v=p,g=(n("1f0b"),Object(c["a"])(v,h,d,!1,null,"1fcae32f",null)),b=g.exports;o["a"].use(l["a"]);var y=new l["a"]({mode:"history",base:"/Hotel-Booking/",routes:[{path:"/",name:"home",component:b},{path:"/room/:id",name:"room",component:function(){return n.e("chunk-5d8b91e4").then(n.bind(null,"3ab1"))},children:[{path:"/room/:id/reservation",name:"reservation",component:function(){return n.e("chunk-0e1bb7e0").then(n.bind(null,"547e"))}},{path:"/room/:id/reservation/success",name:"success",component:function(){return n.e("chunk-0d5e13b3").then(n.bind(null,"7e5f"))}}]}]});o["a"].config.productionTip=!1,new o["a"]({router:y,store:f["a"],render:function(e){return e(m)}}).$mount("#app")},a4f2:function(e,t,n){e.exports=n.p+"img/envelope-solid.a1b1533c.svg"},a99a:function(e,t,n){},b2e9:function(e,t,n){e.exports=n.p+"img/phone-alt-solid.6dbf65e5.svg"},b9c6:function(e,t,n){e.exports=n.p+"img/home-solid.1600889c.svg"},c0d6:function(e,t,n){"use strict";n("7f7f");var o=n("bd86"),r=n("2b0e"),a=n("2f62"),i=n("bc3a"),s=n.n(i);r["a"].use(a["a"]);var c={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer TJuqfa4z35u3GSBwQmNPxem2FceIJ21SuuFH260t46KnYmIvJQ8v5qseeWz4"};t["a"]=new a["a"].Store({strict:!1,state:{headers:c,rooms:[],currentRoomInfo:{disabledDates:[]},reservation:Object(o["a"])({roomName:"",roomId:"",date:[],checkIn:"",checkOut:"",nightArr:[],holiday:0,normalday:0,total:0},"date",[]),reservationDetail:{}},mutations:{setRoomsInfo:function(e,t){e.rooms=t},setCurrRoomInfo:function(e,t){e.currentRoomInfo=t},setReservationDate:function(e,t){console.log("setReservationDate",t),t.roomId&&(e.reservation.roomId=t.roomId),t.roomName&&(e.reservation.roomName=t.roomName),t.date&&t.date.length>1&&(e.reservation.date=t.date),t.name&&(e.reservation.name=t.name),t.phone&&(e.reservation.phone=t.phone)},setReservationDetail:function(e,t){e.reservation.checkIn=t.checkIn,e.reservation.checkOut=t.checkOut,e.reservation.nights=t.nights,e.reservation.holiday=t.holiday,e.reservation.normalday=t.normalday,e.reservation.total=t.total,e.reservation.date=t.date}},actions:{getRoomsInfo:function(e){var t=e.commit;s.a.get("https://challenge.thef2e.com/api/thef2e2019/stage6/rooms",{headers:c}).then((function(e){e.data.success&&t("setRoomsInfo",e.data.items)}))},getRoomDetail:function(e,t){var n=e.commit;s.a.get("https://challenge.thef2e.com/api/thef2e2019/stage6/room/"+t.roomId,{headers:c}).then((function(e){if(e.data.success){console.log(e.data);var t=e.data.room[0];e.data.booking.length>0&&(t.disabledDates=e.data.booking.map((function(e){return e.date}))),console.log(t.disabledDates),n("setCurrRoomInfo",t)}}))},roomBooking:function(e,t){var n=e.commit;e.state;s.a.request({url:"https://challenge.thef2e.com/api/thef2e2019/stage6/room/".concat(t.roomId),method:"post",headers:c,data:{name:t.name,tel:t.phone,date:t.date}}).then((function(e){console.log(e),e.data.success&&n("setReservationDate",t)})).catch((function(e){e.response&&alert(e.response.data.message)}))}}})},ef59:function(e,t,n){e.exports=n.p+"img/cancel-icon.6f4d7463.svg"}});
//# sourceMappingURL=app.28aee8a2.js.map